<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head><link rel="apple-touch-icon" sizes="180x180" href="https://liao961120.github.io/pttR/favicon/apple-touch-icon.png?v=alQmNKw6dL"><link rel="icon" type="image/png" sizes="32x32" href="https://liao961120.github.io/pttR/favicon/favicon-32x32.png?v=alQmNKw6dL"><link rel="icon" type="image/png" sizes="194x194" href="https://liao961120.github.io/pttR/favicon/favicon-194x194.png?v=alQmNKw6dL"><link rel="icon" type="image/png" sizes="192x192" href="https://liao961120.github.io/pttR/favicon/android-chrome-192x192.png?v=alQmNKw6dL"><link rel="icon" type="image/png" sizes="16x16" href="https://liao961120.github.io/pttR/favicon/favicon-16x16.png?v=alQmNKw6dL"><link rel="manifest" href="https://liao961120.github.io/pttR/favicon/site.webmanifest?v=alQmNKw6dL"><link rel="mask-icon" href="https://liao961120.github.io/pttR/favicon/safari-pinned-tab.svg?v=alQmNKw6dL" color="#d56000"><link rel="shortcut icon" href="https://liao961120.github.io/pttR/favicon/favicon.ico?v=alQmNKw6dL"><meta name="apple-mobile-web-app-title" content="pttR"><meta name="application-name" content="pttR"><meta name="msapplication-TileColor" content="#00a300"><meta name="msapplication-TileImage" content="https://liao961120.github.io/pttR/favicon/mstile-144x144.png?v=alQmNKw6dL"><meta name="msapplication-config" content="https://liao961120.github.io/pttR/favicon/browserconfig.xml?v=alQmNKw6dL"><meta name="theme-color" content="#ffffff">
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extract data from multiple index pages of a PTT board. — index2df • pttR</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Extract data from multiple index pages of a PTT board. — index2df" />
<meta property="og:description" content="index2df scrapes the index pages of a board
(&quot;
看板
&quot;) and extracts the
information into a data frame." />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pttR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/data-retreive.html">PTT 文章資料取得</a>
    </li>
    <li>
      <a href="../articles/dev-functions-dep.html">Internal Structure of Functions in pttR</a>
    </li>
    <li>
      <a href="../articles/translation.html">Translation of Pingyin to Traditional Chinese in Manual</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/liao961120/pttR">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract data from multiple index pages of a PTT board.</h1>
    <small class="dont-index">Source: <a href='https://github.com/liao961120/pttR/blob/master/R/scrape-index2df.R'><code>R/scrape-index2df.R</code></a></small>
    <div class="hidden name"><code>index2df.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>index2df</code> scrapes the index pages of a board
("<em>
<a href='https://liao961120.github.io/pttR/articles/translation'>看板</a>
</em>") and extracts the
information into a data frame.</p>
    </div>

    <pre class="usage"><span class='fu'>index2df</span>(<span class='no'>board</span>, <span class='kw'>newest</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>pages</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>search_term</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>search_page</span> <span class='kw'>=</span> <span class='fl'>1</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>board</th>
      <td><p>Character. Either a <strong>URL</strong> or a
<strong>board name</strong>, such as "<em>Gossiping</em>",
"<em>Baseball</em>", "<em>LoL</em>".
<strong>board name</strong> is case-insensitive. See
<strong>Examples</strong> for details.
<code>board</code> has a different requirements when used
with argument <code>search</code> (See below).</p></td>
    </tr>
    <tr>
      <th>newest</th>
      <td><p>Integer. Number of pages, starting from
the most recent page, to scrape.
Defaults to <code>1</code>, which scrapes only the
newest page. If set to <code>2</code>, then scrapes
the newest and the second-newest page, and so
forth.</p></td>
    </tr>
    <tr>
      <th>pages</th>
      <td><p>Integer vector. A vector of index page number(s).
This parameter lets you scrape index pages by providing
index page numbers. Becareful not to
provide numbers exceeding the range of current index pages.
Defaults to <code>NA</code>.</p></td>
    </tr>
    <tr>
      <th>search_term</th>
      <td><p>Character. A term to search in the index,
such as "<em><a href='https://liao961120.github.io/pttR/articles/translation'>魯蛇</a></em>". There are also some advanced
search methods:</p><dl class='dl-horizontal'>
<dt>Post thread</dt><dd><p>Prepend "<em>thread:</em>" to the
search term (post title): "<em>thread:&lt;post-title&gt;</em>".</p></dd>
<dt>Posts of an author</dt><dd><p>Prepend "<em>author:</em>"
to the author's ID, e.g., "<em>author:Plumage</em>".</p></dd>

</dl></td>
    </tr>
    <tr>
      <th>search_page</th>
      <td><p>Integer vector. A vector of index page
number(s). With argument <code>search_term</code> set,
<code>search_page</code> lets you scrape index pages related
to a specific term. Defaults to <code>1</code>, which scrapes only
the newest page.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame with one post info per row.</p>
    <h2 class="hasAnchor" id="warning"><a class="anchor" href="#warning"></a>Warning</h2>

    

<p><strong>Do not request too many pages one time</strong>.
It places heavy load on the server.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='scrape-index.html'>get_index_info</a></code>
  <code><a href='scrape-index.html'>get_index_info</a></code> extracts data from
  <em>one</em> index page, while <code>index2df</code> deals with
  <em>several</em>. In addition, <code>index2df</code> has more
  functionality to deal with multiple pages extraction</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># Get data from 'Gossiping'</span>
<span class='no'>index_df</span> <span class='kw'>&lt;-</span> <span class='fu'>index2df</span>(<span class='st'>"Gossiping"</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>index_df</span>)

<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># Or use URL directly</span>
<span class='no'>link</span> <span class='kw'>&lt;-</span> <span class='st'>"https://www.ptt.cc/bbs/Gossiping/index"</span>

<span class='no'>index_df</span> <span class='kw'>&lt;-</span> <span class='fu'>index2df</span>(<span class='no'>link</span>)
}</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#warning">Warning</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Yongfu Liao.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


